{% extends "Admin/base-admin.html.twig" %}

{% block title %} Admin Panel {% endblock %}

{% block page_title %} <h1>Edit user</h1> {% endblock %}

{% block body %}

    {% if user.getValidationErrors is not empty %}
        <p>Errors:</p>
        <ul>
            {% for error in user.getValidationErrors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form action="/admin/users/{{ user.getId }}/update" method="post">
        <div>
            <label for="inputUsername">Username</label>
            <input id="inputUsername" name="username" value="{{ user.getUsername }}">
        </div>
        <div>
            <label for="inputEmail">Email address</label>
            <input type="email" id="inputEmail" name="email" value="{{ user.getEmail }}">
        </div>
        <div>
            <label for="selectRole">Role</label>
            <select id="selectRole" name="role_id">
                <option value="2" {% if user.getRoleId ==  2 %} selected {% endif %}>
                    User
                </option>
                <option value="1" {% if user.getRoleId == 1 %} selected {% endif %}>
                    Administrator
                </option>
            </select>
        </div>
        <div>
            <label for="radioInactive">Inactive</label>
            <input type="radio" name="is_active" id="radioInactive" value="0"
                {% if user.getIsActive == false %}
                    checked
                {% endif %} >
            <label for="radioActive">Active</label>
            <input type="radio" name="is_active" id="radioActive" value="1"
                    {% if user.getIsActive %}
                        checked
                    {% endif %} >
        </div>

        <button type="submit">Save</button>
        <a href="/admin/users">Cancel</a>
    </form>

{% endblock %}