{% extends "base.html.twig" %}

{% block title %}Edit profile{% endblock %}

{% block scripts %}
    <script src="/assets/js/hideShowPassword.min.js"></script>
    <script src="/assets/js/customValidationMethods.js"></script>
    <script>const user_id = '{{ current_user.getId }}'</script>
    <script src="/assets/js/profileEditFormValidation.js"></script>
{% endblock %}

{% block body %}

    <h1>Edit profile</h1>

    {% if errors is not empty %}
        <p>Errors:</p>
        <ul>
            {% for error in errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <form id="formEditProfile" action="/user/profile/update" method="post">
        <div>
            <label for="inputUsername">Username</label>
            <input id="inputUsername" name="username" placeholder="Username" value="{{ current_user.getUsername }}" required />
        </div>
        <div>
            <label for="inputEmail">Email address</label>
            <input type="email" id="inputEmail" name="email" placeholder="Email address" value="{{ current_user.getEmail }}" required />
        </div>
        <div>
            <label for="inputPassword">Password</label>
            <input type="password" id="inputPassword" name="password" placeholder="Password" aria-describedby="helpBlock"/>
            <span id="helpBlock">Leave blank to keep current password</span>
        </div>

        <button type="submit">Save</button>
        <a href="/user/profile/show">Cancel</a>

    </form>

{% endblock %}